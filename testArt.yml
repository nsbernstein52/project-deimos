
# config:
#   target: 'https://artillery.io'
#   phases:
#     - duration: 60
#       arrivalRate: 20
# scenarios:
#   - flow:
#     - get:
#         url: "/docs"

# original code
config:
  target: "http://localhost:3000"
  phases:
    - duration: 60
      arrivalRate: 100
  # payload:
  #   # path: "keywords.csv"
  #   path: "?count=1000"
  #   fields:
  #     - "keywords"
  variables:
    ids:
      # - ["NNN0", "NNN1", "NNN2", "NNN3", "NNN4", "NNN5", "NNN6", "NNN7", "NNN8", "NNN9"]
      - ["1", "2", "3", "4", "5", "6", "7", "8", "9", "100"]
      - ["10", "11", "12", "13", "14", "15", "16", "17", "18", "19"]
      - ["11", "12", "13", "14", "15", "16", "17", "18", "19"]
      - ["20", "21", "22", "23", "24", "25", "26", "27", "28", "29"]
      - ["30", "31", "32", "33", "34", "35", "36", "37", "38", "39"]
      - ["40", "41", "42", "43", "44", "45", "46", "47", "48", "49"]
      - ["50", "51", "52", "53", "54", "55", "56", "57", "58", "59"]
      - ["60", "61", "62", "63", "64", "65", "66", "67", "68", "69"]
      - ["70", "71", "72", "73", "74", "75", "76", "77", "78", "79"]
      - ["80", "81", "82", "83", "84", "85", "86", "87", "88", "89"]
      - ["90", "91", "92", "93", "94", "95", "96", "97", "98", "99"]
      # - ["9000001", "9000002", "9000003", "0900004", "9000005", "9000006", "9000007", "9000008", "9000009", "9000100"]
      # - ["9000010", "9000011", "9000012", "9000013", "9000014", "9000015", "9000016", "9000017", "9000018", "9000019"]
      # - ["9000020", "9000021", "9000022", "9000023", "9000024", "9000025", "9000026", "9000027", "9000028", "9000029"]
      # - ["9000030", "9000031", "9000032", "9000033", "9000034", "9000035", "9000036", "9000037", "9000038", "9000039"]
      # - ["9000040", "9000041", "9000042", "9000043", "9000044", "9000045", "9000046", "9000047", "9000048", "9000049"]
      # - ["9000050", "9000051", "9000052", "9000053", "9000054", "9000055", "9000056", "9000057", "9000058", "9000059"]
      # - ["9000060", "9000061", "9000062", "9000063", "9000064", "9000065", "9000066", "9000067", "9000068", "9000069"]
      # - ["9000070", "9000071", "9000072", "9000073", "9000074", "9000075", "9000076", "9000077", "9000078", "9000079"]
      # - ["9000080", "9000081", "9000082", "9000083", "9000084", "9000085", "9000086", "9000087", "9000088", "9000089"]
      # - ["9000090", "9000091", "9000092", "9000093", "9000094", "9000095", "9000096", "9000097", "9000098", "9000099"]
scenarios:
  - flow:
      - loop:
          - get:
              url: "/productsdb/{{ $loopElement }}"
              # url: "/productsdb/features/{{ $loopElement }}"
              # url: "/productsdb/styles/{{ $loopElement }}"
              # url: "/productsdb/skus/{{ $loopElement }}"
              # url: "/productsdb/photos/{{ $loopElement }}"
        over: ids
  
# scenarios:
#   - name: "Search products"
#     flow:
#       - get:
#           # url: "/details/{{ id }}"
#           # url: "/productsdb/"
#           # url: "/productsdb/{{ id }}"
#           url: "/productsdb/1"
      # - think: 3
